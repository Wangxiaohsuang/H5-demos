<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>本地存储</title>
</head>
<body>
<script>
    /*本地存储
    * localStorage
    * sessionStorage
    * */
    /*存储事件,当数据有修改或者删除的情况下就会触发storage事件
    * 在对数据进行改变的窗口对象上是不会触发的*/
    window.onload = function () {
        var txt = document.querySelector('#txt');
        var add = document.querySelector('#add');
        var remove = document.querySelector('#remove');
        add.onclick = function () {
           window.localStorage.setItem('name',txt.value);
        };
        get.onclick = function () {
            console.log( window.localStorage.getItem('name'));
        };
        remove.onclick = function () {
            window.localStorage.removeItem('name');
        };
        window.addEventListener('storage',function (ev) {
            console.log(ev.key);
            console.log(ev.newValue);
            console.log(ev.oldValue);
            console.log(ev.storageArea);//存储的对象
            console.log(ev.url);//触发存储的文档地址

        },false);
    }
</script>
<div>
    <input type="text" id='txt'>
    <button id='add'>添加</button>
    <button id='get'>获取</button>
    <button id='remove'>移除</button>
</div>
</body>
</html>